{"version":3,"sources":["webpack://wald.[name]/webpack/universalModuleDefinition","webpack://wald.[name]/webpack/bootstrap","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/createClass.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/inherits.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/typeof.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://wald.[name]/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://wald.[name]/./lib/wald/blueprint/idGenerator/index.ts","webpack://wald.[name]/./lib/wald/entityCreator/index.ts","webpack://wald.[name]/./lib/wald/ioc.ts","webpack://wald.[name]/./lib/wald/blueprint/index.ts","webpack://wald.[name]/./lib/wald/blueprint/idGenerator/moduleBlueprintIdGeneratorDecorator.ts","webpack://wald.[name]/./lib/wald/entityStorage/index.ts","webpack://wald.[name]/./lib/wald/entityCreator/multitonEntityCreatorDecorator.ts","webpack://wald.[name]/./lib/wald/entityCreator/singletonEntityCreatorDecorator.ts","webpack://wald.[name]/./lib/wald/entityCreator/globalsEntityCreatorDecorator.ts","webpack://wald.[name]/./lib/wald/utils.ts","webpack://wald.[name]/./lib/wald/main/main.ts"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","obj","ReferenceError","_typeof","assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","constructor","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","_typeof2","iterator","_setPrototypeOf","Array","isArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","globalBlueprintIdGenerator","EntityCreator","blueprint","creator","AbstractEntityCreatorDecorator","entityCreator","options","Ioc","_entityCreator","ioc","getGlobalBlueprintIdGenerator","setGlobalBlueprintIdGenerator","blueprintIdGenerator","BlueprintIdGenerator","id","idx","AbstractBlueprintIdGeneratorDecorator","_blueprintIdGenerator","generate","createBlueprint","meta","createBlueprintId","mapBlueprintEntity","map","equalBlueprint","blueprintIs","blueprintShould","oneOfBlueprints","blueprintsShould","ModuleBlueprintIdGeneratorDecorator","_moduleBlueprintIdxMap","EntityStorage","entityId","_entities","entity","AbstractEntityStorageDecorator","entityStorage","_entityStorage","getEntity","setEntity","unsetEntity","MultitonEntityCreatorDecorator","multitonId","isMultiton","multiton","noMultiton","clearMultiton","SingletonEntityCreatorDecorator","isSingleton","singleton","noSingleton","clearSingleton","GlobalsEntityCreatorDecorator","globals","createGlobalBlueprintCreateFn","globalKey","promiseAllObject","PromiseConstructor","objectWithPromises","promises","keys","entries","all","then","values","result","valuesLength"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"main\"] = factory();\n\telse\n\t\troot[\"wald\"] = root[\"wald\"] || {}, root[\"wald\"][\"main\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","import { Blueprint } from \"..\";\n\nexport type BlueprintId = string | number;\n\nexport type CreateBlueprintIdMiddleware = (\n  blueprint: Blueprint,\n  next: CreateBlueprintIdMiddleware\n) => BlueprintId;\n\nlet globalBlueprintIdGenerator: BlueprintIdGeneratorInterface;\nexport const getGlobalBlueprintIdGenerator = function() {\n  return globalBlueprintIdGenerator;\n};\nexport const setGlobalBlueprintIdGenerator = function(\n  blueprintIdGenerator: BlueprintIdGeneratorInterface\n) {\n  globalBlueprintIdGenerator = blueprintIdGenerator;\n};\n\nexport const createBlueprintId = function(blueprint: Blueprint) {\n  return globalBlueprintIdGenerator.generate(blueprint);\n};\n\nexport interface BlueprintIdGeneratorInterface {\n  generate: (blueprint: Blueprint) => BlueprintId;\n}\n\nexport class BlueprintIdGenerator implements BlueprintIdGeneratorInterface {\n  idx = 0;\n  generate(blueprint) {\n    return blueprint.id != \"\" ? blueprint.id : this.idx++;\n  }\n}\n\nsetGlobalBlueprintIdGenerator(new BlueprintIdGenerator());\n\nexport abstract class AbstractBlueprintIdGeneratorDecorator\n  implements BlueprintIdGeneratorInterface {\n  _blueprintIdGenerator: BlueprintIdGeneratorInterface;\n  constructor({ blueprintIdGenerator: BlueprintIdGenerator }) {\n    this._blueprintIdGenerator = BlueprintIdGenerator;\n  }\n  generate(blueprint: Blueprint) {\n    return this._blueprintIdGenerator.generate(blueprint);\n  }\n}\n","import {\n  Blueprint,\n  BlueprintCreateFunctionOptions,\n  BlueprintEntity\n} from \"../blueprint\";\n\nexport type CreatorOptions = {\n  [key: string]: any;\n};\nexport interface EntityCreatorInterface {\n  create: <\n    B extends Blueprint,\n    CO extends CreatorOptions,\n    BCO extends BlueprintCreateFunctionOptions\n  >({\n    blueprint: B,\n    creator: CO,\n    create: BCO\n  }) => BlueprintEntity<B>;\n}\nexport class EntityCreator implements EntityCreatorInterface {\n  create<\n    B extends Blueprint,\n    CO extends CreatorOptions,\n    BCO extends BlueprintCreateFunctionOptions\n  >({\n    blueprint,\n    creator,\n    create\n  }: {\n    blueprint: B;\n    creator: CO;\n    create: BCO;\n  }): BlueprintEntity<B> {\n    return blueprint.create(create);\n  }\n}\n\nexport abstract class AbstractEntityCreatorDecorator\n  implements EntityCreatorInterface {\n  entityCreator: EntityCreatorInterface;\n  constructor({ entityCreator }: { entityCreator: EntityCreator }) {\n    this.entityCreator = entityCreator;\n  }\n\n  create<\n    B extends Blueprint,\n    CO extends CreatorOptions,\n    BCO extends BlueprintCreateFunctionOptions\n  >(options: { blueprint: B; creator: CO; create: BCO }): BlueprintEntity<B> {\n    return this.entityCreator.create(options);\n  }\n}\n","import {\n  EntityCreatorInterface,\n  CreatorOptions,\n  EntityCreator\n} from \"./entityCreator\";\nimport { Blueprint, BlueprintEntity } from \"./blueprint\";\n\nexport interface IocInterface {\n  _entityCreator: EntityCreatorInterface;\n  getEntityCreator: () => EntityCreatorInterface;\n  setEntityCreator: (entityCreator: EntityCreatorInterface) => void;\n  get: <B extends Blueprint, O extends CreatorOptions>(options: {\n    blueprint: B;\n    options?: O | {};\n  }) => BlueprintEntity<B>;\n}\nexport class Ioc implements IocInterface {\n  _entityCreator: EntityCreatorInterface;\n  constructor({\n    entityCreator = new EntityCreator()\n  }: {\n    entityCreator?: EntityCreatorInterface;\n  } = {}) {\n    this._entityCreator = entityCreator;\n  }\n\n  getEntityCreator() {\n    return this._entityCreator;\n  }\n\n  setEntityCreator(entityCreator: EntityCreatorInterface) {\n    this._entityCreator = entityCreator;\n  }\n\n  get<B extends Blueprint, O extends CreatorOptions>({\n    blueprint,\n    options = {}\n  }: {\n    blueprint: B;\n    options?: O | {};\n  }): BlueprintEntity<B> {\n    return this._entityCreator.create({\n      blueprint,\n      creator: options,\n      create: { ioc: this }\n    });\n  }\n}\n","import { IocInterface } from \"../ioc\";\nimport { createBlueprintId, BlueprintId } from \"./idGenerator\";\n\nexport type BlueprintCreateFunctionOptions = {\n  [key: string]: any;\n  ioc: IocInterface;\n};\nexport type BlueprintCreateFunction = (\n  options: BlueprintCreateFunctionOptions\n) => any;\nexport type BlueprintMeta = {\n  [key: string]: any;\n};\n\nexport type Blueprint<\n  BCF extends BlueprintCreateFunction = BlueprintCreateFunction,\n  BM extends BlueprintMeta = BlueprintMeta\n> = {\n  id: BlueprintId;\n  create: BCF;\n  meta: BM;\n};\n\nexport type BlueprintEntity<T extends Blueprint> = ReturnType<T[\"create\"]>;\n\nexport const createBlueprint = function<\n  BCF extends BlueprintCreateFunction,\n  BM extends BlueprintMeta\n>({\n  id = \"\",\n  create,\n  meta = {}\n}: {\n  create: BCF;\n  meta?: BM | {};\n  id?: BlueprintId;\n}) {\n  let blueprint: Blueprint<BCF, BM> = {\n    id,\n    create,\n    meta: meta as any\n  };\n\n  blueprint.id = createBlueprintId(blueprint);\n\n  return blueprint;\n};\n\nexport const mapBlueprintEntity = function<\n  B extends Blueprint,\n  M extends () => BlueprintEntity<B>\n>(blueprint: B, map: M): BlueprintEntity<B> {\n  return map();\n};\nexport const equalBlueprint = function(\n  blueprintIs: Blueprint,\n  blueprintShould: Blueprint\n) {\n  return blueprintIs.id === blueprintShould.id;\n};\nexport const oneOfBlueprints = function(\n  blueprintIs: Blueprint,\n  blueprintsShould: Blueprint[]\n) {\n  for (const blueprintShould of blueprintsShould) {\n    if (equalBlueprint(blueprintIs, blueprintShould)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n","import { AbstractBlueprintIdGeneratorDecorator } from \".\";\nimport { Blueprint } from \"..\";\n\nexport class ModuleBlueprintIdGeneratorDecorator extends AbstractBlueprintIdGeneratorDecorator {\n  _moduleBlueprintIdxMap = {};\n  generate(blueprint: Blueprint) {\n    if (blueprint.meta.moduleId == null) {\n      return this._blueprintIdGenerator.generate(blueprint);\n    }\n\n    const moduleId = blueprint.meta.moduleId();\n    if (blueprint.id != \"\") {\n      return moduleId + \"-\" + blueprint.id;\n    }\n\n    if (this._moduleBlueprintIdxMap[moduleId] == null) {\n      this._moduleBlueprintIdxMap[moduleId] = 0;\n    }\n    const id = this._moduleBlueprintIdxMap[moduleId]++;\n    return moduleId + \"-\" + id;\n  }\n}\n","import { Blueprint, BlueprintEntity } from \"../blueprint\";\n\nexport type EntityId = string | number;\n\nexport interface EntityStorageInterface {\n  getEntity<T extends Blueprint>({\n    blueprint,\n    entityId\n  }: {\n    blueprint: T;\n    entityId: EntityId;\n  }): BlueprintEntity<T> | undefined;\n  setEntity<T extends Blueprint>({\n    blueprint,\n    entityId,\n    entity\n  }: {\n    blueprint: T;\n    entityId: EntityId;\n    entity: BlueprintEntity<T>;\n  }): void;\n  unsetEntity(entityId: EntityId): void;\n}\n\nexport class EntityStorage implements EntityStorageInterface {\n  _entities = {};\n  getEntity<T extends Blueprint>({\n    entityId\n  }: {\n    entityId: EntityId;\n  }): BlueprintEntity<T> {\n    return this._entities[entityId];\n  }\n  setEntity<T extends Blueprint>({\n    entity,\n    entityId\n  }: {\n    entity: BlueprintEntity<T>;\n    entityId: EntityId;\n  }) {\n    this._entities[entityId] = entity;\n  }\n  unsetEntity(entityId: EntityId) {\n    delete this._entities[entityId];\n  }\n}\n\nexport abstract class AbstractEntityStorageDecorator\n  implements EntityStorageInterface {\n  _entityStorage: EntityStorageInterface;\n  constructor({ entityStorage }: { entityStorage: EntityStorageInterface }) {\n    this._entityStorage = entityStorage;\n  }\n  getEntity(options) {\n    return this._entityStorage.getEntity(options);\n  }\n  setEntity(options) {\n    return this._entityStorage.setEntity(options);\n  }\n  unsetEntity(entityId) {\n    return this._entityStorage.unsetEntity(entityId);\n  }\n}\n","import { AbstractEntityCreatorDecorator } from \".\";\nimport { EntityCreatorInterface } from \".\";\nimport {\n  BlueprintEntity,\n  Blueprint,\n  BlueprintCreateFunctionOptions\n} from \"../blueprint\";\nimport { CreatorOptions } from \".\";\nimport { EntityStorageInterface, EntityStorage } from \"../entityStorage\";\n\nexport class MultitonEntityCreatorDecorator\n  extends AbstractEntityCreatorDecorator\n  implements EntityCreatorInterface {\n  _entityStorage: EntityStorageInterface;\n\n  constructor(options: {\n    entityCreator: EntityCreatorInterface;\n    entityStorage?: EntityStorageInterface;\n  }) {\n    super(options);\n\n    this._entityStorage = options.entityStorage || new EntityStorage();\n  }\n\n  create<\n    B extends Blueprint,\n    CO extends CreatorOptions,\n    BCO extends BlueprintCreateFunctionOptions\n  >(options: { blueprint: B; creator: CO; create: BCO }): BlueprintEntity<B> {\n    let blueprint = options.blueprint;\n    let multitonId = options.creator.multitonId;\n    let isMultiton =\n      blueprint.meta.multiton && options.creator.noMultiton !== true;\n\n    if (isMultiton && multitonId == null) {\n      throw \"Ioc.get multiton requires multitonId in options\";\n    }\n\n    const entityId = multitonId + \"-\" + blueprint.id;\n\n    if (isMultiton) {\n      const entity = this._entityStorage.getEntity({ entityId, blueprint });\n      if (entity !== undefined) {\n        return entity;\n      }\n\n      (options.create as any).clearMultiton = () => {\n        this._entityStorage.unsetEntity(entityId);\n      };\n    }\n\n    const entity = this.entityCreator.create(options);\n    if (isMultiton) {\n      this._entityStorage.setEntity({ entityId, entity, blueprint });\n    }\n\n    return entity;\n  }\n}\n","import {\n  AbstractEntityCreatorDecorator,\n  EntityCreatorInterface,\n  CreatorOptions\n} from \".\";\nimport {\n  Blueprint,\n  BlueprintCreateFunctionOptions,\n  BlueprintEntity\n} from \"../blueprint\";\nimport { EntityStorageInterface, EntityStorage } from \"../entityStorage\";\n\nexport class SingletonEntityCreatorDecorator\n  extends AbstractEntityCreatorDecorator\n  implements EntityCreatorInterface {\n  _entityStorage: EntityStorageInterface;\n\n  constructor(options: {\n    entityCreator: EntityCreatorInterface;\n    entityStorage?: EntityStorageInterface;\n  }) {\n    super(options);\n\n    this._entityStorage = options.entityStorage || new EntityStorage();\n  }\n\n  create<\n    B extends Blueprint,\n    CO extends CreatorOptions,\n    BCO extends BlueprintCreateFunctionOptions\n  >(options: { blueprint: B; creator: CO; create: BCO }): BlueprintEntity<B> {\n    let blueprint = options.blueprint;\n    let isSingleton =\n      blueprint.meta.singleton && options.creator.noSingleton !== true;\n\n    if (isSingleton) {\n      let entity = this._entityStorage.getEntity({\n        blueprint,\n        entityId: blueprint.id\n      });\n      if (entity !== undefined) {\n        return entity;\n      }\n\n      (options.create as any).clearSingleton = () => {\n        this._entityStorage.unsetEntity(blueprint.id);\n      };\n    }\n\n    const entity = this.entityCreator.create(options);\n    if (isSingleton) {\n      this._entityStorage.setEntity({\n        blueprint,\n        entityId: blueprint.id,\n        entity\n      });\n    }\n\n    return entity;\n  }\n}\n","import { AbstractEntityCreatorDecorator } from \".\";\nimport { BlueprintCreateFunctionOptions } from \"../blueprint\";\n\nexport class GlobalsEntityCreatorDecorator extends AbstractEntityCreatorDecorator {\n  globals;\n  constructor(options: { globals: { [key: string]: any }; entityCreator }) {\n    super(options);\n\n    this.globals = options.globals;\n  }\n\n  create(options) {\n    options.create.globals = this.globals;\n\n    return this.entityCreator.create(options);\n  }\n}\n\nexport const createGlobalBlueprintCreateFn = function<R = any>(\n  globalKey: string\n): (options: BlueprintCreateFunctionOptions) => R {\n  return function(options) {\n    return options.globals[globalKey] as any;\n  };\n};\n","export type PromiseAllFromObject<O extends Object> = Promise<\n  { [K in keyof O]: O[K] extends Promise<infer Result> ? Result : O[K] }\n>;\nexport const promiseAllObject = function<\n  P extends PromiseConstructor,\n  PO extends Object\n>(PromiseConstructor: P, objectWithPromises: PO): PromiseAllFromObject<PO> {\n  const promises: Promise<any>[] = [];\n  const keys: any[] = [];\n\n  for (const [key, value] of Object.entries(objectWithPromises)) {\n    promises.push(value);\n    keys.push(key);\n  }\n\n  return PromiseConstructor.all(promises).then(values => {\n    let result: any = {};\n\n    const valuesLength = values.length;\n    for (var idx = 0; idx < valuesLength; idx++) {\n      result[keys[idx]] = values[idx];\n    }\n\n    return result;\n  });\n};\n","export * from \"../ioc\";\nexport * from \"../blueprint\";\nexport {\n  getGlobalBlueprintIdGenerator,\n  setGlobalBlueprintIdGenerator,\n  BlueprintIdGenerator,\n  AbstractBlueprintIdGeneratorDecorator\n} from \"../blueprint/idGenerator\";\nexport * from \"../blueprint/idGenerator/moduleBlueprintIdGeneratorDecorator\";\nexport * from \"../entityCreator\";\nexport * from \"../entityCreator/multitonEntityCreatorDecorator\";\nexport * from \"../entityCreator/singletonEntityCreatorDecorator\";\nexport * from \"../entityCreator/globalsEntityCreatorDecorator\";\nexport * from \"../entityStorage\";\nexport * from \"../utils\";\n"],"sourceRoot":""}